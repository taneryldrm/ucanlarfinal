exports.id=646,exports.ids=[646],exports.modules={82:(e,t,s)=>{Promise.resolve().then(s.bind(s,8536))},3815:(e,t,s)=>{"use strict";s.d(t,{h:()=>m});var a=s(5344),l=s(1532),r=s(8822);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(9224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var i=s(5342),c=s(8428),d=s(6506),o=s(4755),u=s(9999);function m({title:e}){let t=(0,c.useRouter)(),s=(0,c.usePathname)(),m=(0,i.e)(),{role:x,profile:h,loading:f}=(0,u.j)(),p=async()=>{try{await m.auth.signOut(),o.toast.success("\xc7ıkış yapıldı"),t.push("/login"),t.refresh()}catch(e){o.toast.error("\xc7ıkış yapılırken hata oluştu")}};return(0,a.jsxs)("header",{className:"flex h-20 items-center justify-between border-b bg-white px-4 md:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"md:hidden",children:"/"!==s&&a.jsx(d.default,{href:"/",className:"flex items-center justify-center p-2 -ml-2 text-slate-600 hover:bg-slate-100 rounded-full",children:a.jsx(l.Z,{className:"h-6 w-6"})})}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-800 truncate max-w-[200px] md:max-w-none",children:e||"Y\xf6netim Paneli"})]}),a.jsx("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-full border border-slate-200 bg-slate-50 p-1 pl-4 pr-2",children:[a.jsx("div",{className:"flex flex-col items-end",children:f?a.jsx("span",{className:"text-xs text-slate-400",children:"Y\xfckleniyor..."}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:h?.full_name||h?.name||h?.email||"Kullanıcı"}),a.jsx("span",{className:"text-xs text-slate-500 capitalize",children:x||"Yetkisiz"})]})}),a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-200 text-slate-600",children:a.jsx(r.Z,{className:"h-5 w-5"})}),a.jsx("button",{onClick:p,className:"ml-2 rounded-full p-2 text-slate-400 hover:bg-slate-200 hover:text-slate-600 transition-colors",title:"\xc7ıkış Yap",children:a.jsx(n,{className:"h-5 w-5"})})]})})]})}},9641:(e,t,s)=>{"use strict";s.d(t,{Q:()=>c});var a=s(5344),l=s(4513),r=s(3729),n=s(7973),i=s(4755);function c({isOpen:e,onClose:t,initialData:s,onSuccess:c}){let[d,o]=(0,r.useState)(!1),[u,m]=(0,r.useState)(s?.name||""),[x,h]=(0,r.useState)(s?.type||"normal"),[f,p]=(0,r.useState)(s?.phone||""),[b,g]=(0,r.useState)(s?.taxId||""),[y,j]=(0,r.useState)(""),[v,N]=(0,r.useState)("");(0,r.useEffect)(()=>{e&&(m(s?.name||""),h(s?.type||"normal"),p(s?.phone||""),g(s?.tax_id||s?.taxId||""),j(s?.address||""),N(s?.description||""))},[s,e]);let k=async()=>{if(!u){i.toast.error("M\xfcşteri adı zorunludur.");return}o(!0);try{let e;let a={name:u,type:x,phone:f,taxId:b,address:y,description:v};s?.id?(e=await (0,n.uG)(s.id,a),i.toast.success("M\xfcşteri başarıyla g\xfcncellendi.")):(e=await (0,n.wK)(a),i.toast.success("M\xfcşteri başarıyla oluşturuldu.")),c&&c(e),t()}catch(e){console.error(e),i.toast.error(`İşlem başarısız: ${e.message}`)}finally{o(!1)}};return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-2xl rounded-xl bg-white shadow-2xl animate-in fade-in zoom-in duration-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-100 p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:s?"M\xfcşteri D\xfczenle":"Yeni M\xfcşteri Ekle"}),a.jsx("button",{onClick:t,className:"rounded-lg p-2 text-slate-400 hover:bg-slate-50 hover:text-slate-600 transition-colors",children:a.jsx(l.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"max-h-[70vh] overflow-y-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium text-slate-700",children:["M\xfcşteri Adı ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:u,onChange:e=>m(e.target.value),placeholder:"M\xfcşteri adını girin...",className:"w-full rounded-lg border border-slate-200 px-4 py-2.5 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"M\xfcşteri Tipi"}),(0,a.jsxs)("select",{value:x,onChange:e=>h(e.target.value),className:"w-full appearance-none rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10",children:[a.jsx("option",{value:"normal",children:"Normal"}),a.jsx("option",{value:"d\xfczenli",children:"D\xfczenli"}),a.jsx("option",{value:"sıkıntılı",children:"Sıkıntılı"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Telefon"}),a.jsx("input",{type:"text",value:f,onChange:e=>p(e.target.value),placeholder:"Telefon numarası...",className:"w-full rounded-lg border border-slate-200 px-4 py-2.5 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Vergi No"}),a.jsx("input",{type:"text",value:b,onChange:e=>g(e.target.value),placeholder:"Vergi numarası...",className:"w-full rounded-lg border border-slate-200 px-4 py-2.5 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Adres"}),a.jsx("div",{className:"flex gap-2",children:a.jsx("input",{type:"text",value:y,onChange:e=>j(e.target.value),placeholder:"Adres girin...",className:"w-full rounded-lg border border-slate-200 px-4 py-2.5 text-sm outline-none focus:border-blue-500"})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"A\xe7ıklama"}),a.jsx("textarea",{value:v,onChange:e=>N(e.target.value),placeholder:"M\xfcşteri hakkında notlar...",rows:3,className:"w-full rounded-lg border border-slate-200 px-4 py-2.5 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 border-t border-slate-100 p-6 bg-slate-50 rounded-b-xl",children:[a.jsx("button",{onClick:t,disabled:d,className:"rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-50 disabled:opacity-50",children:"Vazge\xe7"}),(0,a.jsxs)("button",{onClick:k,disabled:d,className:"rounded-lg bg-blue-600 px-6 py-2 text-sm font-medium text-white hover:bg-blue-700 shadow-md shadow-blue-200 disabled:opacity-50 flex items-center gap-2",children:[d&&a.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Kaydet"]})]})]})}):null}},8536:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Sidebar:()=>Z,menuItems:()=>w});var a=s(5344),l=s(6506),r=s(8428),n=s(2273),i=s(340),c=s(9895),d=s(5366),o=s(3425),u=s(958),m=s(7925),x=s(5313),h=s(5674),f=s(6213),p=s(5794),b=s(8587),g=s(617),y=s(3746),j=s(473),v=s(1626),N=s(9999),k=s(7812);let w=[{name:"Dashboard",href:"/",icon:n.Z},{name:"Raporlama",href:"/raporlama",icon:i.Z},{name:"M\xfcşteriler",href:"/musteriler",icon:c.Z},{name:"Personel",href:"/personel",icon:d.Z},{name:"İş Emirleri",href:"/is-emirleri",icon:o.Z},{name:"G\xfcnl\xfck Program",href:"/gunluk-program",icon:u.Z},{name:"Personel Yevmiye",href:"/personel-yevmiye",icon:m.Z},{name:"G\xfcnl\xfck Kasa",href:"/gunluk-kasa",icon:x.Z},{name:"Bekleyen Tahsilatlar",href:"/bekleyen-tahsilatlar",icon:h.Z},{name:"Ge\xe7miş Arama",href:"/gecmis-arama",icon:f.Z},{name:"Takvim",href:"/takvim",icon:p.Z},{name:"Gelir/Gider",href:"/gelir-gider",icon:b.Z},{name:"AI Randevu",href:"/ai-randevu",icon:g.Z},{name:"Kullanıcılar",href:"/kullanicilar",icon:y.Z}];function Z(){let e=(0,r.usePathname)(),{role:t,loading:s}=(0,N.j)();return(0,a.jsxs)("div",{className:"flex h-screen w-64 flex-col bg-[#0f172a] text-white print:hidden",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-6 py-8",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-500/20 text-blue-500",children:a.jsx(j.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-lg font-bold leading-none",children:"U\xe7anlar"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Temizlik Hizmetleri"})]})]}),a.jsx("nav",{className:"flex-1 space-y-1 overflow-y-auto px-3 py-4 scrollbar-thin scrollbar-thumb-slate-700",children:s?a.jsx("div",{className:"px-4 text-xs text-slate-500",children:"Men\xfc y\xfckleniyor..."}):w.filter(e=>(0,k.mn)(t||void 0,e.href)).map(t=>{let s=e===t.href;return(0,a.jsxs)(l.default,{href:t.href,className:(0,v.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",s?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:[a.jsx(t.icon,{className:(0,v.cn)("h-5 w-5",s?"text-white":"text-slate-400")}),t.name]},t.href)})})]})}},9999:(e,t,s)=>{"use strict";s.d(t,{j:()=>r});var a=s(3729),l=s(5342);function r(){let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),c=(0,l.e)();return(0,a.useEffect)(()=>{(async function(){try{let{data:{user:e}}=await c.auth.getUser();if(e){let{data:s}=await c.from("profiles").select("*").eq("id",e.id).single();s&&(t(s.role),r(s))}}catch(e){console.error("Error fetching role:",e)}finally{i(!1)}})()},[]),{role:e,profile:s,loading:n}}},7812:(e,t,s)=>{"use strict";s.d(t,{Fs:()=>i,_I:()=>r,mn:()=>n});let a={ADMIN:"sistem y\xf6neticisi",DATA_ENTRY:"veri girici",FIELD_SUPERVISOR:"saha sorumlusu",DRIVER:"şof\xf6r"},l={[a.ADMIN]:["*"],[a.DATA_ENTRY]:["*","!/kullanicilar"],[a.FIELD_SUPERVISOR]:["*","!/raporlama","!/gelir-gider","!/kullanicilar"],[a.DRIVER]:["/gunluk-program","/login"]},r={CAN_DELETE:[a.ADMIN],CAN_APPROVE_WORK_ORDER:[a.ADMIN,a.DATA_ENTRY],CAN_MANAGE_ACCRUALS:[a.ADMIN,a.DATA_ENTRY]};function n(e,t){if(!e)return!1;if("/"===t||"/login"===t)return!0;let s=t.split("?")[0],a=l[e];return!!a&&(a.includes("*")?!a.filter(e=>e.startsWith("!")).map(e=>e.substring(1)).some(e=>s.startsWith(e)):a.some(e=>s.startsWith(e)))}function i(e,t){return!!e&&t.includes(e)}},1626:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(6815),l=s(9377);function r(...e){return(0,l.m6)((0,a.W)(e))}},1532:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1838:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8822:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4513:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5342:(e,t,s)=>{"use strict";s.d(t,{e:()=>l});var a=s(3974);function l(){return(0,a.createBrowserClient)("https://rzcumzfzurthasgptggd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6Y3VtemZ6dXJ0aGFzZ3B0Z2dkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNDA5MzYsImV4cCI6MjA4MTcxNjkzNn0.NlyDKeMj-4xa7ZSt5wsyRdCOay8w2SAIA-ZTjIRkyHw")}},8508:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5036),l=s(6843);let r=(0,l.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx`),{__esModule:n,$$typeof:i}=r;r.default,(0,l.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx#menuItems`);let c=(0,l.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx#Sidebar`);function d({children:e}){return(0,a.jsxs)("div",{className:"flex h-screen bg-slate-50 text-slate-900",children:[a.jsx("div",{className:"hidden md:flex h-full",children:a.jsx(c,{})}),a.jsx("div",{className:"flex flex-1 flex-col overflow-hidden",children:a.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50",children:e})})]})}}};