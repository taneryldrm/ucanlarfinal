(()=>{var e={};e.id=39,e.ids=[39],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2913:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.ZP,__next_app__:()=>x,originalPathname:()=>o,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=s(482),r=s(9108),l=s(1146),n=s(8300),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);s.d(t,i);let d=["",{children:["(dashboard)",{children:["takvim",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,283)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/takvim/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8508)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,429)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,1429)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/not-found.tsx"]}],c=["/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/takvim/page.tsx"],o="/(dashboard)/takvim/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/takvim/page",pathname:"/takvim",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1754:(e,t,s)=>{Promise.resolve().then(s.bind(s,4166))},82:(e,t,s)=>{Promise.resolve().then(s.bind(s,8536))},4166:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5344),r=s(3815),l=s(1532),n=s(7751),i=s(9895),d=s(3729),c=s(1626),o=s(4513);function x({isOpen:e,onClose:t,date:s,jobs:r}){return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl rounded-xl bg-white shadow-2xl animate-in fade-in zoom-in duration-200 flex flex-col max-h-[90vh]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-100 p-6 shrink-0",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-slate-900",children:[s," - İş Detayları"]}),a.jsx("button",{onClick:t,className:"rounded-lg p-2 text-slate-400 hover:bg-slate-50 hover:text-slate-600 transition-colors",children:a.jsx(o.Z,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-slate-50/50",children:r.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:e.customer}),a.jsx("span",{className:(0,c.cn)("px-3 py-1 rounded text-xs font-bold uppercase","Onaylanmadı"===e.status?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"),children:e.status})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"A\xe7ıklama:"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:e.description})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Adres:"}),a.jsx("p",{className:"text-sm font-medium text-slate-900",children:e.address})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Tutar:"}),a.jsx("p",{className:"text-sm font-bold text-green-600",children:e.amount})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"Personel Sayısı:"}),a.jsx("p",{className:"text-sm font-bold text-slate-900",children:e.staffCount})]})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-4 border-t border-slate-100",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-900",children:"\xc7alışan Personel:"}),a.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-100 overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"text-slate-500 border-b border-slate-200 bg-slate-100/50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-2 font-medium text-xs",children:"Personel Adı"}),a.jsx("th",{className:"px-4 py-2 font-medium text-xs",children:"Rol"}),a.jsx("th",{className:"px-4 py-2 font-medium text-xs",children:"Telefon"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:e.assignedStaff.map((e,t)=>(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-4 py-2 font-bold text-slate-800 text-xs",children:e.name}),a.jsx("td",{className:"px-4 py-2 text-slate-600 text-xs",children:e.role}),a.jsx("td",{className:"px-4 py-2 text-slate-600 text-xs",children:e.phone})]},t))})]})})]})]},t))})]})}):null}var m=s(7973);function h(){let[e,t]=(0,d.useState)(new Date),[s,o]=(0,d.useState)(null),[h,u]=(0,d.useState)([]),[p,f]=(0,d.useState)(!1),[g,b]=(0,d.useState)({}),[j,y]=(0,d.useState)(!1);(0,d.useEffect)(()=>{(async function(){y(!0);try{let t=await (0,m.S4)(e.getFullYear(),e.getMonth());b(t)}catch(e){console.error("Takvim verisi hatası:",e)}finally{y(!1)}})()},[e]);let N=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),v=Array.from({length:(e=>{let t=new Date(e.getFullYear(),e.getMonth(),1).getDay();return 0===t?6:t-1})(e)}),k=Array.from({length:N},(e,t)=>t+1),w=t=>{let s=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),r=String(t).padStart(2,"0");return`${s}-${a}-${r}`},P=t=>{let s=g[w(t)];s&&s.length>0&&(o(new Date(e.getFullYear(),e.getMonth(),t).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})),u(s),f(!0))},D=e=>{let t=g[w(e)]||[];if(0===t.length)return 0;let s=new Set;return t.forEach(e=>{e.assignedStaff?.forEach(e=>s.add(e.name))}),s.size};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.h,{title:"Takvim"}),(0,a.jsxs)("div",{className:"p-8 space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Personel Takvimi"}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("button",{onClick:()=>{t(new Date(e.getFullYear(),e.getMonth()-1,1))},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(l.Z,{className:"h-5 w-5 text-slate-500"})}),a.jsx("h3",{className:"text-lg font-bold text-slate-900 capitalize",children:e.toLocaleDateString("tr-TR",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:()=>{t(new Date(e.getFullYear(),e.getMonth()+1,1))},className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:a.jsx(n.Z,{className:"h-5 w-5 text-slate-500"})})]}),a.jsx("div",{className:"grid grid-cols-7 mb-4",children:["Pzt","Sal","\xc7ar","Per","Cum","Cmt","Paz"].map(e=>a.jsx("div",{className:"text-center text-sm font-medium text-slate-500 py-2",children:e},e))}),(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[v.map((e,t)=>a.jsx("div",{className:"min-h-[120px]"},`empty-${t}`)),k.map(e=>{let t=D(e);return(0,a.jsxs)("div",{onClick:()=>P(e),className:(0,c.cn)("min-h-[100px] rounded-xl border p-2 transition-all cursor-pointer relative",t>0?"bg-white border-slate-200 hover:border-blue-300 hover:shadow-md":"bg-slate-50/50 border-slate-100 text-slate-400"),children:[a.jsx("span",{className:(0,c.cn)("text-sm font-semibold block mb-2",t>0?"text-slate-700":"text-slate-400"),children:e}),t>0&&(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-2 flex items-center gap-2",children:[a.jsx("div",{className:"bg-blue-100 p-1.5 rounded-md",children:a.jsx(i.Z,{className:"h-3 w-3 text-blue-600"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs font-bold text-blue-900 leading-none",children:t}),a.jsx("span",{className:"text-[10px] font-medium text-blue-600 leading-none mt-0.5",children:"Personel"})]})]})]},e)})]})]})]}),s&&a.jsx(x,{isOpen:p,onClose:()=>f(!1),date:s,jobs:h})]})}},3815:(e,t,s)=>{"use strict";s.d(t,{h:()=>m});var a=s(5344),r=s(1532),l=s(8822);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(9224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var i=s(5342),d=s(8428),c=s(6506),o=s(4755),x=s(9999);function m({title:e}){let t=(0,d.useRouter)(),s=(0,d.usePathname)(),m=(0,i.e)(),{role:h,profile:u,loading:p}=(0,x.j)(),f=async()=>{try{await m.auth.signOut(),o.toast.success("\xc7ıkış yapıldı"),t.push("/login"),t.refresh()}catch(e){o.toast.error("\xc7ıkış yapılırken hata oluştu")}};return(0,a.jsxs)("header",{className:"flex h-20 items-center justify-between border-b bg-white px-4 md:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"md:hidden",children:"/"!==s&&a.jsx(c.default,{href:"/",className:"flex items-center justify-center p-2 -ml-2 text-slate-600 hover:bg-slate-100 rounded-full",children:a.jsx(r.Z,{className:"h-6 w-6"})})}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-800 truncate max-w-[200px] md:max-w-none",children:e||"Y\xf6netim Paneli"})]}),a.jsx("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-full border border-slate-200 bg-slate-50 p-1 pl-4 pr-2",children:[a.jsx("div",{className:"flex flex-col items-end",children:p?a.jsx("span",{className:"text-xs text-slate-400",children:"Y\xfckleniyor..."}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:u?.full_name||u?.name||u?.email||"Kullanıcı"}),a.jsx("span",{className:"text-xs text-slate-500 capitalize",children:h||"Yetkisiz"})]})}),a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-200 text-slate-600",children:a.jsx(l.Z,{className:"h-5 w-5"})}),a.jsx("button",{onClick:f,className:"ml-2 rounded-full p-2 text-slate-400 hover:bg-slate-200 hover:text-slate-600 transition-colors",title:"\xc7ıkış Yap",children:a.jsx(n,{className:"h-5 w-5"})})]})})]})}},8536:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Sidebar:()=>P,menuItems:()=>w});var a=s(5344),r=s(6506),l=s(8428),n=s(2273),i=s(340),d=s(9895),c=s(5366),o=s(3425),x=s(958),m=s(7925),h=s(5313),u=s(5674),p=s(6213),f=s(5794),g=s(8587),b=s(617),j=s(3746),y=s(473),N=s(1626),v=s(9999),k=s(7812);let w=[{name:"Dashboard",href:"/",icon:n.Z},{name:"Raporlama",href:"/raporlama",icon:i.Z},{name:"M\xfcşteriler",href:"/musteriler",icon:d.Z},{name:"Personel",href:"/personel",icon:c.Z},{name:"İş Emirleri",href:"/is-emirleri",icon:o.Z},{name:"G\xfcnl\xfck Program",href:"/gunluk-program",icon:x.Z},{name:"Personel Yevmiye",href:"/personel-yevmiye",icon:m.Z},{name:"G\xfcnl\xfck Kasa",href:"/gunluk-kasa",icon:h.Z},{name:"Bekleyen Tahsilatlar",href:"/bekleyen-tahsilatlar",icon:u.Z},{name:"Ge\xe7miş Arama",href:"/gecmis-arama",icon:p.Z},{name:"Takvim",href:"/takvim",icon:f.Z},{name:"Gelir/Gider",href:"/gelir-gider",icon:g.Z},{name:"AI Randevu",href:"/ai-randevu",icon:b.Z},{name:"Kullanıcılar",href:"/kullanicilar",icon:j.Z}];function P(){let e=(0,l.usePathname)(),{role:t,loading:s}=(0,v.j)();return(0,a.jsxs)("div",{className:"flex h-screen w-64 flex-col bg-[#0f172a] text-white print:hidden",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-6 py-8",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-500/20 text-blue-500",children:a.jsx(y.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-lg font-bold leading-none",children:"U\xe7anlar"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Temizlik Hizmetleri"})]})]}),a.jsx("nav",{className:"flex-1 space-y-1 overflow-y-auto px-3 py-4 scrollbar-thin scrollbar-thumb-slate-700",children:s?a.jsx("div",{className:"px-4 text-xs text-slate-500",children:"Men\xfc y\xfckleniyor..."}):w.filter(e=>(0,k.mn)(t||void 0,e.href)).map(t=>{let s=e===t.href;return(0,a.jsxs)(r.default,{href:t.href,className:(0,N.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",s?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:[a.jsx(t.icon,{className:(0,N.cn)("h-5 w-5",s?"text-white":"text-slate-400")}),t.name]},t.href)})})]})}},9999:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var a=s(3729),r=s(5342);function l(){let[e,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),d=(0,r.e)();return(0,a.useEffect)(()=>{(async function(){try{let{data:{user:e}}=await d.auth.getUser();if(e){let{data:s}=await d.from("profiles").select("*").eq("id",e.id).single();s&&(t(s.role),l(s))}}catch(e){console.error("Error fetching role:",e)}finally{i(!1)}})()},[]),{role:e,profile:s,loading:n}}},7812:(e,t,s)=>{"use strict";s.d(t,{Fs:()=>i,_I:()=>l,mn:()=>n});let a={ADMIN:"sistem y\xf6neticisi",DATA_ENTRY:"veri girici",FIELD_SUPERVISOR:"saha sorumlusu",DRIVER:"şof\xf6r"},r={[a.ADMIN]:["*"],[a.DATA_ENTRY]:["*","!/kullanicilar"],[a.FIELD_SUPERVISOR]:["*","!/raporlama","!/gelir-gider","!/kullanicilar"],[a.DRIVER]:["/gunluk-program","/login"]},l={CAN_DELETE:[a.ADMIN],CAN_APPROVE_WORK_ORDER:[a.ADMIN,a.DATA_ENTRY],CAN_MANAGE_ACCRUALS:[a.ADMIN,a.DATA_ENTRY]};function n(e,t){if(!e)return!1;if("/"===t||"/login"===t)return!0;let s=t.split("?")[0],a=r[e];return!!a&&(a.includes("*")?!a.filter(e=>e.startsWith("!")).map(e=>e.substring(1)).some(e=>s.startsWith(e)):a.some(e=>s.startsWith(e)))}function i(e,t){return!!e&&t.includes(e)}},1626:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(6815),r=s(9377);function l(...e){return(0,r.m6)((0,a.W)(e))}},1532:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},7751:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8822:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4513:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5342:(e,t,s)=>{"use strict";s.d(t,{e:()=>r});var a=s(3974);function r(){return(0,a.createBrowserClient)("https://rzcumzfzurthasgptggd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6Y3VtemZ6dXJ0aGFzZ3B0Z2dkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNDA5MzYsImV4cCI6MjA4MTcxNjkzNn0.NlyDKeMj-4xa7ZSt5wsyRdCOay8w2SAIA-ZTjIRkyHw")}},8508:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5036),r=s(6843);let l=(0,r.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx`),{__esModule:n,$$typeof:i}=l;l.default,(0,r.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx#menuItems`);let d=(0,r.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx#Sidebar`);function c({children:e}){return(0,a.jsxs)("div",{className:"flex h-screen bg-slate-50 text-slate-900",children:[a.jsx("div",{className:"hidden md:flex h-full",children:a.jsx(d,{})}),a.jsx("div",{className:"flex flex-1 flex-col overflow-hidden",children:a.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50",children:e})})]})}},283:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,s(6843).createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/takvim/page.tsx`),{__esModule:r,$$typeof:l}=a,n=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[621,442,56,424],()=>s(2913));module.exports=a})();