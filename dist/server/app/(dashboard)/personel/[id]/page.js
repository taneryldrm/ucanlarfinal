(()=>{var e={};e.id=375,e.ids=[375],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},514:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.ZP,__next_app__:()=>x,originalPathname:()=>o,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=t(482),r=t(9108),l=t(1146),i=t(8300),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(s,n);let d=["",{children:["(dashboard)",{children:["personel",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5647)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/personel/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8508)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2917)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,429)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,1429)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/not-found.tsx"]}],c=["/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/personel/[id]/page.tsx"],o="/(dashboard)/personel/[id]/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/personel/[id]/page",pathname:"/personel/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4365:(e,s,t)=>{Promise.resolve().then(t.bind(t,3642))},82:(e,s,t)=>{Promise.resolve().then(t.bind(t,8536))},3642:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var a=t(5344),r=t(3815),l=t(3024),i=t(8822),n=t(626);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,t(9224).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);var c=t(5674),o=t(5794),x=t(6506),m=t(1626),h=t(3729),u=t(7973);function p({params:e}){let[s,t]=(0,h.useState)(null),[p,f]=(0,h.useState)(!0);return((0,h.useEffect)(()=>{async function s(){f(!0);try{let s=await (0,u.a0)(e.id),a=(s.jobs||[]).map(e=>({id:`job-${e.id}`,date:e.date,type:"İş Emri",description:e.description||"İş Emri",amount:0,isFinancial:!1})),r=(s.payroll||[]).map(e=>{let s=[];return e.daily_wage>0&&s.push({id:`wage-${e.id}`,date:e.date,type:"Yevmiye / Hakediş",description:e.description||"G\xfcnl\xfck Yevmiye",amount:e.daily_wage,isPlus:!0,status:"Tahakkuk"}),e.paid_amount>0&&s.push({id:`pay-${e.id}`,date:e.date,type:"\xd6deme",description:"\xd6deme Yapıldı",amount:-e.paid_amount,isPlus:!1,status:"\xd6dendi"}),s}).flat(),l=[...a,...r].sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime());t({...s,combinedHistory:l})}catch(e){console.error(e)}finally{f(!1)}}e.id&&s()},[e.id]),p)?(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.h,{title:"Personel Detayı"}),a.jsx("div",{className:"p-8 text-center text-slate-500",children:"Y\xfckleniyor..."})]}):s?(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.h,{title:"Personel Detayı"}),(0,a.jsxs)("div",{className:"p-8 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(x.default,{href:"/personel",className:"p-2 rounded-lg hover:bg-slate-100 text-slate-500 transition-colors",children:a.jsx(l.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:s.full_name||s.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[a.jsx("span",{className:(0,m.cn)("px-2 py-0.5 rounded text-xs font-bold border","active"===s.status?"bg-green-100 text-green-700 border-green-200":"bg-slate-100 text-slate-700 border-slate-200"),children:"active"===s.status?"Aktif":"Pasif"}),(0,a.jsxs)("span",{children:["Personel No: #",e.id]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm space-y-6",children:[a.jsx("h3",{className:"font-bold text-slate-900 border-b border-slate-100 pb-4",children:"Kişisel Bilgiler"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx(i.Z,{className:"h-5 w-5 text-slate-400 shrink-0"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"TC Kimlik No"}),a.jsx("p",{className:"font-medium text-slate-900",children:s.tc_no||s.tc||"-"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx(n.Z,{className:"h-5 w-5 text-slate-400 shrink-0"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Telefon"}),a.jsx("p",{className:"font-medium text-slate-900",children:s.phone||"-"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[a.jsx(d,{className:"h-5 w-5 text-slate-400 shrink-0"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"G\xf6revi"}),a.jsx("p",{className:"font-medium text-slate-900",children:s.role||"Personel"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm space-y-6",children:[a.jsx("h3",{className:"font-bold text-slate-900 border-b border-slate-100 pb-4",children:"Hakediş Durumu"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-600 font-medium",children:"Toplam Alacak"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-slate-900",children:["₺",(s.current_balance||0).toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})]}),a.jsx("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm min-h-[400px]",children:[a.jsx("h3",{className:"font-bold text-slate-900 mb-6",children:"İş & \xd6deme Ge\xe7mişi"}),a.jsx("div",{className:"space-y-4",children:0===(s.combinedHistory||[]).length?a.jsx("div",{className:"text-center text-slate-500 py-8",children:"Kayıtlı ge\xe7miş bulunamadı."}):(s.combinedHistory||[]).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-slate-50 border border-slate-100 hover:border-blue-200 transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-white flex items-center justify-center border border-slate-200 text-slate-500",children:e.amount<0?a.jsx(c.Z,{className:"h-5 w-5 text-red-500"}):a.jsx(o.Z,{className:"h-5 w-5 text-blue-500"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-bold text-slate-900",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[a.jsx("span",{children:e.date?new Date(e.date).toLocaleDateString("tr-TR"):"-"}),a.jsx("span",{children:"•"}),a.jsx("span",{className:e.amount<0?"text-red-600":"text-blue-600",children:e.type})]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[0!==e.amount&&(0,a.jsxs)("p",{className:(0,m.cn)("font-bold",e.amount>0?"text-green-600":"text-slate-900"),children:[e.amount>0?"+":"","₺",Math.abs(e.amount).toLocaleString("tr-TR",{minimumFractionDigits:2})]}),a.jsx("span",{className:"text-xs font-medium text-slate-400",children:e.status})]})]},e.id))})]})})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.h,{title:"Personel Detayı"}),a.jsx("div",{className:"p-8 text-center text-slate-500",children:"Personel bulunamadı."})]})}},3815:(e,s,t)=>{"use strict";t.d(s,{h:()=>m});var a=t(5344),r=t(1532),l=t(8822);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(9224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var n=t(5342),d=t(8428),c=t(6506),o=t(4755),x=t(9999);function m({title:e}){let s=(0,d.useRouter)(),t=(0,d.usePathname)(),m=(0,n.e)(),{role:h,profile:u,loading:p}=(0,x.j)(),f=async()=>{try{await m.auth.signOut(),o.toast.success("\xc7ıkış yapıldı"),s.push("/login"),s.refresh()}catch(e){o.toast.error("\xc7ıkış yapılırken hata oluştu")}};return(0,a.jsxs)("header",{className:"flex h-20 items-center justify-between border-b bg-white px-4 md:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"md:hidden",children:"/"!==t&&a.jsx(c.default,{href:"/",className:"flex items-center justify-center p-2 -ml-2 text-slate-600 hover:bg-slate-100 rounded-full",children:a.jsx(r.Z,{className:"h-6 w-6"})})}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-800 truncate max-w-[200px] md:max-w-none",children:e||"Y\xf6netim Paneli"})]}),a.jsx("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-full border border-slate-200 bg-slate-50 p-1 pl-4 pr-2",children:[a.jsx("div",{className:"flex flex-col items-end",children:p?a.jsx("span",{className:"text-xs text-slate-400",children:"Y\xfckleniyor..."}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:u?.full_name||u?.name||u?.email||"Kullanıcı"}),a.jsx("span",{className:"text-xs text-slate-500 capitalize",children:h||"Yetkisiz"})]})}),a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-200 text-slate-600",children:a.jsx(l.Z,{className:"h-5 w-5"})}),a.jsx("button",{onClick:f,className:"ml-2 rounded-full p-2 text-slate-400 hover:bg-slate-200 hover:text-slate-600 transition-colors",title:"\xc7ıkış Yap",children:a.jsx(i,{className:"h-5 w-5"})})]})})]})}},8536:(e,s,t)=>{"use strict";t.r(s),t.d(s,{Sidebar:()=>P,menuItems:()=>w});var a=t(5344),r=t(6506),l=t(8428),i=t(2273),n=t(340),d=t(9895),c=t(5366),o=t(3425),x=t(958),m=t(7925),h=t(5313),u=t(5674),p=t(6213),f=t(5794),g=t(8587),j=t(617),b=t(3746),y=t(473),N=t(1626),v=t(9999),k=t(7812);let w=[{name:"Dashboard",href:"/",icon:i.Z},{name:"Raporlama",href:"/raporlama",icon:n.Z},{name:"M\xfcşteriler",href:"/musteriler",icon:d.Z},{name:"Personel",href:"/personel",icon:c.Z},{name:"İş Emirleri",href:"/is-emirleri",icon:o.Z},{name:"G\xfcnl\xfck Program",href:"/gunluk-program",icon:x.Z},{name:"Personel Yevmiye",href:"/personel-yevmiye",icon:m.Z},{name:"G\xfcnl\xfck Kasa",href:"/gunluk-kasa",icon:h.Z},{name:"Bekleyen Tahsilatlar",href:"/bekleyen-tahsilatlar",icon:u.Z},{name:"Ge\xe7miş Arama",href:"/gecmis-arama",icon:p.Z},{name:"Takvim",href:"/takvim",icon:f.Z},{name:"Gelir/Gider",href:"/gelir-gider",icon:g.Z},{name:"AI Randevu",href:"/ai-randevu",icon:j.Z},{name:"Kullanıcılar",href:"/kullanicilar",icon:b.Z}];function P(){let e=(0,l.usePathname)(),{role:s,loading:t}=(0,v.j)();return(0,a.jsxs)("div",{className:"flex h-screen w-64 flex-col bg-[#0f172a] text-white print:hidden",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-6 py-8",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-500/20 text-blue-500",children:a.jsx(y.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-lg font-bold leading-none",children:"U\xe7anlar"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Temizlik Hizmetleri"})]})]}),a.jsx("nav",{className:"flex-1 space-y-1 overflow-y-auto px-3 py-4 scrollbar-thin scrollbar-thumb-slate-700",children:t?a.jsx("div",{className:"px-4 text-xs text-slate-500",children:"Men\xfc y\xfckleniyor..."}):w.filter(e=>(0,k.mn)(s||void 0,e.href)).map(s=>{let t=e===s.href;return(0,a.jsxs)(r.default,{href:s.href,className:(0,N.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",t?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:[a.jsx(s.icon,{className:(0,N.cn)("h-5 w-5",t?"text-white":"text-slate-400")}),s.name]},s.href)})})]})}},9999:(e,s,t)=>{"use strict";t.d(s,{j:()=>l});var a=t(3729),r=t(5342);function l(){let[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(null),[i,n]=(0,a.useState)(!0),d=(0,r.e)();return(0,a.useEffect)(()=>{(async function(){try{let{data:{user:e}}=await d.auth.getUser();if(e){let{data:t}=await d.from("profiles").select("*").eq("id",e.id).single();t&&(s(t.role),l(t))}}catch(e){console.error("Error fetching role:",e)}finally{n(!1)}})()},[]),{role:e,profile:t,loading:i}}},7812:(e,s,t)=>{"use strict";t.d(s,{Fs:()=>n,_I:()=>l,mn:()=>i});let a={ADMIN:"sistem y\xf6neticisi",DATA_ENTRY:"veri girici",FIELD_SUPERVISOR:"saha sorumlusu",DRIVER:"şof\xf6r"},r={[a.ADMIN]:["*"],[a.DATA_ENTRY]:["*","!/kullanicilar"],[a.FIELD_SUPERVISOR]:["*","!/raporlama","!/gelir-gider","!/kullanicilar"],[a.DRIVER]:["/gunluk-program","/login"]},l={CAN_DELETE:[a.ADMIN],CAN_APPROVE_WORK_ORDER:[a.ADMIN,a.DATA_ENTRY],CAN_MANAGE_ACCRUALS:[a.ADMIN,a.DATA_ENTRY]};function i(e,s){if(!e)return!1;if("/"===s||"/login"===s)return!0;let t=s.split("?")[0],a=r[e];return!!a&&(a.includes("*")?!a.filter(e=>e.startsWith("!")).map(e=>e.substring(1)).some(e=>t.startsWith(e)):a.some(e=>t.startsWith(e)))}function n(e,s){return!!e&&s.includes(e)}},1626:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var a=t(6815),r=t(9377);function l(...e){return(0,r.m6)((0,a.W)(e))}},3024:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1532:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},626:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},8822:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5342:(e,s,t)=>{"use strict";t.d(s,{e:()=>r});var a=t(3974);function r(){return(0,a.createBrowserClient)("https://rzcumzfzurthasgptggd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6Y3VtemZ6dXJ0aGFzZ3B0Z2dkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNDA5MzYsImV4cCI6MjA4MTcxNjkzNn0.NlyDKeMj-4xa7ZSt5wsyRdCOay8w2SAIA-ZTjIRkyHw")}},8508:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(5036),r=t(6843);let l=(0,r.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx`),{__esModule:i,$$typeof:n}=l;l.default,(0,r.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx#menuItems`);let d=(0,r.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx#Sidebar`);function c({children:e}){return(0,a.jsxs)("div",{className:"flex h-screen bg-slate-50 text-slate-900",children:[a.jsx("div",{className:"hidden md:flex h-full",children:a.jsx(d,{})}),a.jsx("div",{className:"flex flex-1 flex-col overflow-hidden",children:a.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50",children:e})})]})}},5647:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,t(6843).createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/personel/[id]/page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[621,442,56,424],()=>t(514));module.exports=a})();