(()=>{var e={};e.id=96,e.ids=[96],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9997:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.ZP,__next_app__:()=>m,originalPathname:()=>o,pages:()=>d,routeModule:()=>x,tree:()=>c});var a=s(482),r=s(9108),l=s(1146),n=s(8300),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);s.d(t,i);let c=["",{children:["(dashboard)",{children:["gecmis-arama",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4656)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/gecmis-arama/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8508)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,429)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,1429)),"/Users/taneryildirim/Desktop/ucanlarfinal/app/not-found.tsx"]}],d=["/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/gecmis-arama/page.tsx"],o="/(dashboard)/gecmis-arama/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/gecmis-arama/page",pathname:"/gecmis-arama",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3154:(e,t,s)=>{Promise.resolve().then(s.bind(s,9199))},82:(e,t,s)=>{Promise.resolve().then(s.bind(s,8536))},9199:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5344),r=s(3815),l=s(8765),n=s(3729),i=s(7973);function c(){let[e,t]=(0,n.useState)(""),[s,c]=(0,n.useState)([]),[d,o]=(0,n.useState)(!1),[m,x]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!0),[p,f]=(0,n.useState)(new Date().toISOString().split("T")[0]),[g,b]=(0,n.useState)(new Date().toISOString().split("T")[0]),y=async()=>{if(!e.trim()&&u){c([]),x(!1);return}o(!0),x(!0);try{let t=await (0,i.p8)(e,u?void 0:{start:p,end:g});c(t)}catch(e){console.error("Search failed:",e)}finally{o(!1)}};return(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.h,{title:"Ge\xe7miş Arama"}),(0,a.jsxs)("div",{className:"p-8 space-y-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Ge\xe7miş Arama"}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm space-y-4",children:[a.jsx("h3",{className:"font-bold text-slate-800 text-sm",children:"Arama Kriterleri"}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-end",children:[(0,a.jsxs)("div",{className:"flex-1 space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-700",children:"Arama Terimi"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(l.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"===e.key&&y()},placeholder:"M\xfcşteri adı, a\xe7ıklama vb...",className:"w-full rounded-lg border border-slate-300 py-2.5 pl-10 pr-4 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-700",children:"Tarih Aralığı"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[!u&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("input",{type:"date",value:p,onChange:e=>f(e.target.value),className:"rounded-lg border border-slate-300 py-2 px-3 text-sm outline-none focus:border-blue-500"}),a.jsx("span",{className:"text-slate-400",children:"-"}),a.jsx("input",{type:"date",value:g,onChange:e=>b(e.target.value),className:"rounded-lg border border-slate-300 py-2 px-3 text-sm outline-none focus:border-blue-500"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pl-2 bg-slate-50 border border-slate-200 rounded-lg px-3 py-2",children:[a.jsx("input",{type:"checkbox",checked:u,onChange:e=>h(e.target.checked),className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium text-slate-700 whitespace-nowrap",children:"T\xfcm Zamanlar"})]})]})]}),(0,a.jsxs)("button",{onClick:y,disabled:d,className:"flex items-center gap-2 rounded-lg bg-blue-600 px-8 py-2.5 font-bold text-white transition-colors hover:bg-blue-700 shadow-md shadow-blue-200 disabled:opacity-50",children:[d?a.jsx("span",{className:"animate-spin",children:"⌛"}):a.jsx(l.Z,{className:"h-4 w-4"}),"Ara"]})]})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm min-h-[400px]",children:[(0,a.jsxs)("h3",{className:"font-bold text-slate-800 mb-6",children:["Sonu\xe7lar ",m&&`(${s.length})`]}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-white text-slate-500 border-b border-slate-100",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-3 font-medium",children:"Kaynak"}),a.jsx("th",{className:"px-4 py-3 font-medium",children:"Ad/İsim"}),a.jsx("th",{className:"px-4 py-3 font-medium",children:"A\xe7ıklama"}),a.jsx("th",{className:"px-4 py-3 font-medium",children:"Tarih"}),a.jsx("th",{className:"px-4 py-3 font-medium",children:"Tutar/Bakiye"}),a.jsx("th",{className:"px-4 py-3 font-medium",children:"Ek Bilgi"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:m?0===s.length?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-12 text-center text-slate-500",children:"Kriterlere uygun kayıt bulunamadı."})}):s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-slate-50/50",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsx("span",{className:"inline-block rounded px-2 py-1 bg-blue-600 text-white text-[10px] font-bold uppercase tracking-wider",children:e.source})}),a.jsx("td",{className:"px-4 py-4 font-bold text-slate-800 uppercase",children:e.name}),a.jsx("td",{className:"px-4 py-4 text-slate-700 text-xs max-w-md",children:e.description}),a.jsx("td",{className:"px-4 py-4 font-medium text-slate-900",children:e.date}),a.jsx("td",{className:"px-4 py-4 text-slate-500 text-center",children:e.amount}),a.jsx("td",{className:"px-4 py-4 text-slate-500 text-xs whitespace-pre-line",children:e.extraInfo.split("|").map((e,t)=>a.jsx("div",{children:e.trim()},t))})]},e.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-12 text-center text-slate-500",children:"Arama yapmak i\xe7in yukarıdaki formu kullanın."})})})]})})]})]})]})}},3815:(e,t,s)=>{"use strict";s.d(t,{h:()=>x});var a=s(5344),r=s(1532),l=s(8822);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(9224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var i=s(5342),c=s(8428),d=s(6506),o=s(4755),m=s(9999);function x({title:e}){let t=(0,c.useRouter)(),s=(0,c.usePathname)(),x=(0,i.e)(),{role:u,profile:h,loading:p}=(0,m.j)(),f=async()=>{try{await x.auth.signOut(),o.toast.success("\xc7ıkış yapıldı"),t.push("/login"),t.refresh()}catch(e){o.toast.error("\xc7ıkış yapılırken hata oluştu")}};return(0,a.jsxs)("header",{className:"flex h-20 items-center justify-between border-b bg-white px-4 md:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"md:hidden",children:"/"!==s&&a.jsx(d.default,{href:"/",className:"flex items-center justify-center p-2 -ml-2 text-slate-600 hover:bg-slate-100 rounded-full",children:a.jsx(r.Z,{className:"h-6 w-6"})})}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-800 truncate max-w-[200px] md:max-w-none",children:e||"Y\xf6netim Paneli"})]}),a.jsx("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 rounded-full border border-slate-200 bg-slate-50 p-1 pl-4 pr-2",children:[a.jsx("div",{className:"flex flex-col items-end",children:p?a.jsx("span",{className:"text-xs text-slate-400",children:"Y\xfckleniyor..."}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:h?.full_name||h?.name||h?.email||"Kullanıcı"}),a.jsx("span",{className:"text-xs text-slate-500 capitalize",children:u||"Yetkisiz"})]})}),a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-200 text-slate-600",children:a.jsx(l.Z,{className:"h-5 w-5"})}),a.jsx("button",{onClick:f,className:"ml-2 rounded-full p-2 text-slate-400 hover:bg-slate-200 hover:text-slate-600 transition-colors",title:"\xc7ıkış Yap",children:a.jsx(n,{className:"h-5 w-5"})})]})})]})}},8536:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Sidebar:()=>A,menuItems:()=>w});var a=s(5344),r=s(6506),l=s(8428),n=s(2273),i=s(340),c=s(9895),d=s(5366),o=s(3425),m=s(958),x=s(7925),u=s(5313),h=s(5674),p=s(6213),f=s(5794),g=s(8587),b=s(617),y=s(3746),j=s(473),N=s(1626),v=s(9999),k=s(7812);let w=[{name:"Dashboard",href:"/",icon:n.Z},{name:"Raporlama",href:"/raporlama",icon:i.Z},{name:"M\xfcşteriler",href:"/musteriler",icon:c.Z},{name:"Personel",href:"/personel",icon:d.Z},{name:"İş Emirleri",href:"/is-emirleri",icon:o.Z},{name:"G\xfcnl\xfck Program",href:"/gunluk-program",icon:m.Z},{name:"Personel Yevmiye",href:"/personel-yevmiye",icon:x.Z},{name:"G\xfcnl\xfck Kasa",href:"/gunluk-kasa",icon:u.Z},{name:"Bekleyen Tahsilatlar",href:"/bekleyen-tahsilatlar",icon:h.Z},{name:"Ge\xe7miş Arama",href:"/gecmis-arama",icon:p.Z},{name:"Takvim",href:"/takvim",icon:f.Z},{name:"Gelir/Gider",href:"/gelir-gider",icon:g.Z},{name:"AI Randevu",href:"/ai-randevu",icon:b.Z},{name:"Kullanıcılar",href:"/kullanicilar",icon:y.Z}];function A(){let e=(0,l.usePathname)(),{role:t,loading:s}=(0,v.j)();return(0,a.jsxs)("div",{className:"flex h-screen w-64 flex-col bg-[#0f172a] text-white print:hidden",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 px-6 py-8",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-500/20 text-blue-500",children:a.jsx(j.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-lg font-bold leading-none",children:"U\xe7anlar"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Temizlik Hizmetleri"})]})]}),a.jsx("nav",{className:"flex-1 space-y-1 overflow-y-auto px-3 py-4 scrollbar-thin scrollbar-thumb-slate-700",children:s?a.jsx("div",{className:"px-4 text-xs text-slate-500",children:"Men\xfc y\xfckleniyor..."}):w.filter(e=>(0,k.mn)(t||void 0,e.href)).map(t=>{let s=e===t.href;return(0,a.jsxs)(r.default,{href:t.href,className:(0,N.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",s?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:[a.jsx(t.icon,{className:(0,N.cn)("h-5 w-5",s?"text-white":"text-slate-400")}),t.name]},t.href)})})]})}},9999:(e,t,s)=>{"use strict";s.d(t,{j:()=>l});var a=s(3729),r=s(5342);function l(){let[e,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),c=(0,r.e)();return(0,a.useEffect)(()=>{(async function(){try{let{data:{user:e}}=await c.auth.getUser();if(e){let{data:s}=await c.from("profiles").select("*").eq("id",e.id).single();s&&(t(s.role),l(s))}}catch(e){console.error("Error fetching role:",e)}finally{i(!1)}})()},[]),{role:e,profile:s,loading:n}}},7812:(e,t,s)=>{"use strict";s.d(t,{Fs:()=>i,_I:()=>l,mn:()=>n});let a={ADMIN:"sistem y\xf6neticisi",DATA_ENTRY:"veri girici",FIELD_SUPERVISOR:"saha sorumlusu",DRIVER:"şof\xf6r"},r={[a.ADMIN]:["*"],[a.DATA_ENTRY]:["*","!/kullanicilar"],[a.FIELD_SUPERVISOR]:["*","!/raporlama","!/gelir-gider","!/kullanicilar"],[a.DRIVER]:["/gunluk-program","/login"]},l={CAN_DELETE:[a.ADMIN],CAN_APPROVE_WORK_ORDER:[a.ADMIN,a.DATA_ENTRY],CAN_MANAGE_ACCRUALS:[a.ADMIN,a.DATA_ENTRY]};function n(e,t){if(!e)return!1;if("/"===t||"/login"===t)return!0;let s=t.split("?")[0],a=r[e];return!!a&&(a.includes("*")?!a.filter(e=>e.startsWith("!")).map(e=>e.substring(1)).some(e=>s.startsWith(e)):a.some(e=>s.startsWith(e)))}function i(e,t){return!!e&&t.includes(e)}},1626:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(6815),r=s(9377);function l(...e){return(0,r.m6)((0,a.W)(e))}},1532:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},8765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8822:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5342:(e,t,s)=>{"use strict";s.d(t,{e:()=>r});var a=s(3974);function r(){return(0,a.createBrowserClient)("https://rzcumzfzurthasgptggd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6Y3VtemZ6dXJ0aGFzZ3B0Z2dkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNDA5MzYsImV4cCI6MjA4MTcxNjkzNn0.NlyDKeMj-4xa7ZSt5wsyRdCOay8w2SAIA-ZTjIRkyHw")}},4656:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>r,default:()=>n});let a=(0,s(6843).createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/app/(dashboard)/gecmis-arama/page.tsx`),{__esModule:r,$$typeof:l}=a,n=a.default},8508:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5036),r=s(6843);let l=(0,r.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx`),{__esModule:n,$$typeof:i}=l;l.default,(0,r.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx#menuItems`);let c=(0,r.createProxy)(String.raw`/Users/taneryildirim/Desktop/ucanlarfinal/components/Sidebar.tsx#Sidebar`);function d({children:e}){return(0,a.jsxs)("div",{className:"flex h-screen bg-slate-50 text-slate-900",children:[a.jsx("div",{className:"hidden md:flex h-full",children:a.jsx(c,{})}),a.jsx("div",{className:"flex flex-1 flex-col overflow-hidden",children:a.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50",children:e})})]})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[621,442,56,424],()=>s(9997));module.exports=a})();