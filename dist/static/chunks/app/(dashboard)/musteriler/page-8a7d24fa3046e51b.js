(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[58],{8442:function(e,t,s){Promise.resolve().then(s.bind(s,202))},202:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var l=s(3827),a=s(1232),r=s(4059),n=s(94),i=s(8670),c=s(7211),d=s(7841),o=s(7731),x=s(489),m=s(9108),u=s(7805),h=s(1657),p=s(4090),b=s(8792),f=s(7852),j=s(9807);function y(){let[e,t]=(0,p.useState)(!1),[s,y]=(0,p.useState)("T\xfcm\xfc"),[N,g]=(0,p.useState)(""),[v,w]=(0,p.useState)([]),[k,Z]=(0,p.useState)(!0),[M,S]=(0,p.useState)(null),[C,T]=(0,p.useState)(1),[z,E]=(0,p.useState)(0),_=async()=>{Z(!0);try{let{data:e,count:t}=await (0,j.OL)(C,10,N,"T\xfcm\xfc"===s?null:s.toLowerCase());w(e||[]),E(t||0)}catch(e){console.error("Error fetching customers:",e)}finally{Z(!1)}};(0,p.useEffect)(()=>{_()},[C,s]),(0,p.useEffect)(()=>{let e=setTimeout(()=>{T(1),_()},500);return()=>clearTimeout(e)},[N]);let A=async e=>{if(confirm("Bu m\xfcşteriyi silmek istediğinize emin misiniz?"))try{await (0,j.LA)(e),w(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting customer:",e),alert("Silme işlemi başarısız oldu.")}},D=e=>{S(e),t(!0)},L=Math.ceil(z/10);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.h,{title:"M\xfcşteriler"}),(0,l.jsxs)("div",{className:"p-8 space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"M\xfcşteriler"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 rounded-lg bg-blue-50 px-3 py-1 text-sm font-medium text-blue-700",children:[(0,l.jsx)(r.Z,{className:"h-4 w-4"}),"Toplam: ",(0,l.jsx)("span",{className:"font-bold",children:z})]})]}),(0,l.jsxs)("button",{onClick:()=>{S(null),t(!0)},className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 font-medium text-white transition-colors hover:bg-blue-700 shadow-md shadow-blue-200",children:[(0,l.jsx)(n.Z,{className:"h-4 w-4"}),"Yeni M\xfcşteri"]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl border border-slate-200 bg-white p-4 shadow-sm md:flex-row md:items-center",children:[(0,l.jsxs)("div",{className:"relative flex-1",children:[(0,l.jsx)(i.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),(0,l.jsx)("input",{type:"text",value:N,onChange:e=>g(e.target.value),placeholder:"İsim veya telefon ile ara...",className:"w-full rounded-lg border border-slate-200 py-2 pl-10 pr-4 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 border-l border-slate-100 pl-4",children:[(0,l.jsxs)("span",{className:"flex items-center gap-1 text-sm font-medium text-slate-500",children:[(0,l.jsx)(c.Z,{className:"h-4 w-4"}),"Tip:"]}),(0,l.jsx)("div",{className:"flex gap-1 rounded-lg bg-slate-100 p-1",children:["T\xfcm\xfc","Normal","D\xfczenli","Sıkıntılı"].map(e=>(0,l.jsx)("button",{onClick:()=>{y(e),T(1)},className:(0,h.cn)("rounded px-3 py-1 text-sm font-medium transition-all",s===e?"bg-blue-600 text-white shadow-sm":"text-slate-600 hover:bg-slate-200"),children:e},e))})]})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,l.jsx)("thead",{className:"bg-slate-50 text-slate-500 border-b border-slate-200",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-4 font-medium",children:"M\xfcşteri Adı"}),(0,l.jsx)("th",{className:"px-6 py-4 font-medium",children:"Tip"}),(0,l.jsx)("th",{className:"px-6 py-4 font-medium",children:"Telefon"}),(0,l.jsx)("th",{className:"px-6 py-4 font-medium",children:"Adres"}),(0,l.jsx)("th",{className:"px-6 py-4 font-medium",children:"Bakiye"}),(0,l.jsx)("th",{className:"px-6 py-4 text-center font-medium",children:"İşlemler"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-100",children:k?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"Y\xfckleniyor..."})}):0===v.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"M\xfcşteri bulunamadı."})}):v.map(e=>(0,l.jsxs)("tr",{className:"group hover:bg-slate-50/50 transition-colors",children:[(0,l.jsx)("td",{className:"px-6 py-4 font-bold text-slate-700",children:e.name}),(0,l.jsx)("td",{className:"px-6 py-4",children:(0,l.jsx)("span",{className:"inline-block rounded bg-blue-100 px-2 py-0.5 text-xs font-bold text-blue-700 border border-blue-200",children:e.type})}),(0,l.jsx)("td",{className:"px-6 py-4 font-medium text-slate-900",children:e.phone}),(0,l.jsx)("td",{className:"px-6 py-4 text-slate-500 max-w-xs truncate",title:e.address,children:e.address}),(0,l.jsxs)("td",{className:"px-6 py-4 font-bold text-slate-700",children:["₺",(e.balance||0).toFixed(2).replace(".",",")]}),(0,l.jsx)("td",{className:"px-6 py-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)(b.default,{href:"/musteriler/".concat(e.id),className:"rounded p-1.5 text-slate-400 hover:bg-blue-50 hover:text-blue-600 transition-colors",title:"Detay",children:(0,l.jsx)(d.Z,{className:"h-4 w-4"})}),(0,l.jsx)("button",{onClick:()=>D(e),className:"rounded p-1.5 text-slate-400 hover:bg-amber-50 hover:text-amber-600 transition-colors",title:"D\xfczenle",children:(0,l.jsx)(o.Z,{className:"h-4 w-4"})}),(0,l.jsx)("button",{onClick:()=>A(e.id),className:"rounded p-1.5 text-slate-400 hover:bg-red-50 hover:text-red-600 transition-colors",title:"Sil",children:(0,l.jsx)(x.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})}),z>0&&(0,l.jsxs)("div",{className:"flex items-center justify-between border-t border-slate-100 px-6 py-4",children:[(0,l.jsxs)("div",{className:"text-sm text-slate-500",children:["Toplam ",(0,l.jsx)("span",{className:"font-bold text-slate-800",children:z})," kayıttan ",(0,l.jsx)("span",{className:"font-bold text-slate-800",children:(C-1)*10+1})," - ",(0,l.jsx)("span",{className:"font-bold text-slate-800",children:Math.min(10*C,z)})," arası g\xf6steriliyor"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("button",{onClick:()=>T(e=>Math.max(1,e-1)),disabled:1===C,className:"flex items-center gap-1 rounded-lg border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,l.jsx)(m.Z,{className:"h-4 w-4"}),"\xd6nceki"]}),(0,l.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,L)},(e,t)=>{let s=t+1;return(C>3&&L>5&&(s=C-2+t),s>L)?null:(0,l.jsx)("button",{onClick:()=>T(s),className:(0,h.cn)("h-8 w-8 rounded-lg text-sm font-medium transition-colors",C===s?"bg-blue-600 text-white":"hover:bg-slate-50 text-slate-600"),children:s},s)})}),(0,l.jsxs)("button",{onClick:()=>T(e=>Math.min(L,e+1)),disabled:C===L,className:"flex items-center gap-1 rounded-lg border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Sonraki",(0,l.jsx)(u.Z,{className:"h-4 w-4"})]})]})]})]})]}),(0,l.jsx)(f.Q,{isOpen:e,onClose:()=>t(!1),initialData:M})]})}},7805:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(7461).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7841:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(7461).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7211:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(7461).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},7731:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(7461).Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},4059:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(7461).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[257,288,250,224,807,503,971,69,744],function(){return e(e.s=8442)}),_N_E=e.O()}]);