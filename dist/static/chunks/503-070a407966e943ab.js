"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{1232:function(e,t,l){l.d(t,{h:function(){return x}});var s=l(3827),a=l(9108),n=l(1213),r=l(1049),i=l(8458),d=l(7907),o=l(8792),c=l(6288),u=l(5838);function x(e){let{title:t}=e,l=(0,d.useRouter)(),x=(0,d.usePathname)(),m=(0,i.e)(),{role:h,profile:f,loading:p}=(0,u.j)(),b=async()=>{try{await m.auth.signOut(),c.toast.success("\xc7ıkış yapıldı"),l.push("/login"),l.refresh()}catch(e){c.toast.error("\xc7ıkış yapılırken hata oluştu")}};return(0,s.jsxs)("header",{className:"flex h-20 items-center justify-between border-b bg-white px-4 md:px-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"md:hidden",children:"/"!==x&&(0,s.jsx)(o.default,{href:"/",className:"flex items-center justify-center p-2 -ml-2 text-slate-600 hover:bg-slate-100 rounded-full",children:(0,s.jsx)(a.Z,{className:"h-6 w-6"})})}),(0,s.jsx)("h2",{className:"text-lg md:text-xl font-bold text-slate-800 truncate max-w-[200px] md:max-w-none",children:t||"Y\xf6netim Paneli"})]}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3 rounded-full border border-slate-200 bg-slate-50 p-1 pl-4 pr-2",children:[(0,s.jsx)("div",{className:"flex flex-col items-end",children:p?(0,s.jsx)("span",{className:"text-xs text-slate-400",children:"Y\xfckleniyor..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:(null==f?void 0:f.full_name)||(null==f?void 0:f.name)||(null==f?void 0:f.email)||"Kullanıcı"}),(0,s.jsx)("span",{className:"text-xs text-slate-500 capitalize",children:h||"Yetkisiz"})]})}),(0,s.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-200 text-slate-600",children:(0,s.jsx)(n.Z,{className:"h-5 w-5"})}),(0,s.jsx)("button",{onClick:b,className:"ml-2 rounded-full p-2 text-slate-400 hover:bg-slate-200 hover:text-slate-600 transition-colors",title:"\xc7ıkış Yap",children:(0,s.jsx)(r.Z,{className:"h-5 w-5"})})]})})]})}},7852:function(e,t,l){l.d(t,{Q:function(){return d}});var s=l(3827),a=l(2235),n=l(4090),r=l(9807),i=l(6288);function d(e){let{isOpen:t,onClose:l,initialData:d,onSuccess:o}=e,[c,u]=(0,n.useState)(!1),[x,m]=(0,n.useState)((null==d?void 0:d.name)||""),[h,f]=(0,n.useState)((null==d?void 0:d.type)||"normal"),[p,b]=(0,n.useState)((null==d?void 0:d.phone)||""),[y,g]=(0,n.useState)((null==d?void 0:d.taxId)||""),[v,j]=(0,n.useState)(""),[N,k]=(0,n.useState)("");(0,n.useEffect)(()=>{t&&(m((null==d?void 0:d.name)||""),f((null==d?void 0:d.type)||"normal"),b((null==d?void 0:d.phone)||""),g((null==d?void 0:d.tax_id)||(null==d?void 0:d.taxId)||""),j((null==d?void 0:d.address)||""),k((null==d?void 0:d.description)||""))},[d,t]);let w=async()=>{if(!x){i.toast.error("M\xfcşteri adı zorunludur.");return}u(!0);try{let e;let t={name:x,type:h,phone:p,taxId:y,address:v,description:N};(null==d?void 0:d.id)?(e=await (0,r.uG)(d.id,t),i.toast.success("M\xfcşteri başarıyla g\xfcncellendi.")):(e=await (0,r.wK)(t),i.toast.success("M\xfcşteri başarıyla oluşturuldu.")),o&&o(e),l()}catch(e){console.error(e),i.toast.error("İşlem başarısız: ".concat(e.message))}finally{u(!1)}};return t?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-2xl rounded-xl bg-white shadow-2xl animate-in fade-in zoom-in duration-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-100 p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:d?"M\xfcşteri D\xfczenle":"Yeni M\xfcşteri Ekle"}),(0,s.jsx)("button",{onClick:l,className:"rounded-lg p-2 text-slate-400 hover:bg-slate-50 hover:text-slate-600 transition-colors",children:(0,s.jsx)(a.Z,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"max-h-[70vh] overflow-y-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-slate-700",children:["M\xfcşteri Adı ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",value:x,onChange:e=>m(e.target.value),placeholder:"M\xfcşteri adını girin...",className:"w-full rounded-lg border border-slate-200 px-4 py-2.5 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"M\xfcşteri Tipi"}),(0,s.jsxs)("select",{value:h,onChange:e=>f(e.target.value),className:"w-full appearance-none rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10",children:[(0,s.jsx)("option",{value:"normal",children:"Normal"}),(0,s.jsx)("option",{value:"d\xfczenli",children:"D\xfczenli"}),(0,s.jsx)("option",{value:"sıkıntılı",children:"Sıkıntılı"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Telefon"}),(0,s.jsx)("input",{type:"text",value:p,onChange:e=>b(e.target.value),placeholder:"Telefon numarası...",className:"w-full rounded-lg border border-slate-200 px-4 py-2.5 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Vergi No"}),(0,s.jsx)("input",{type:"text",value:y,onChange:e=>g(e.target.value),placeholder:"Vergi numarası...",className:"w-full rounded-lg border border-slate-200 px-4 py-2.5 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"Adres"}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsx)("input",{type:"text",value:v,onChange:e=>j(e.target.value),placeholder:"Adres girin...",className:"w-full rounded-lg border border-slate-200 px-4 py-2.5 text-sm outline-none focus:border-blue-500"})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-slate-700",children:"A\xe7ıklama"}),(0,s.jsx)("textarea",{value:N,onChange:e=>k(e.target.value),placeholder:"M\xfcşteri hakkında notlar...",rows:3,className:"w-full rounded-lg border border-slate-200 px-4 py-2.5 text-sm outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/10"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 border-t border-slate-100 p-6 bg-slate-50 rounded-b-xl",children:[(0,s.jsx)("button",{onClick:l,disabled:c,className:"rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-50 disabled:opacity-50",children:"Vazge\xe7"}),(0,s.jsxs)("button",{onClick:w,disabled:c,className:"rounded-lg bg-blue-600 px-6 py-2 text-sm font-medium text-white hover:bg-blue-700 shadow-md shadow-blue-200 disabled:opacity-50 flex items-center gap-2",children:[c&&(0,s.jsx)("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Kaydet"]})]})]})}):null}},5838:function(e,t,l){l.d(t,{j:function(){return n}});var s=l(4090),a=l(8458);function n(){let[e,t]=(0,s.useState)(null),[l,n]=(0,s.useState)(null),[r,i]=(0,s.useState)(!0),d=(0,a.e)();return(0,s.useEffect)(()=>{(async function(){try{let{data:{user:e}}=await d.auth.getUser();if(e){let{data:l}=await d.from("profiles").select("*").eq("id",e.id).single();l&&(t(l.role),n(l))}}catch(e){console.error("Error fetching role:",e)}finally{i(!1)}})()},[]),{role:e,profile:l,loading:r}}},1657:function(e,t,l){l.d(t,{cn:function(){return n}});var s=l(3167),a=l(1367);function n(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,a.m6)((0,s.W)(t))}},9108:function(e,t,l){l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1049:function(e,t,l){l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},94:function(e,t,l){l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8670:function(e,t,l){l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},489:function(e,t,l){l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1213:function(e,t,l){l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2235:function(e,t,l){l.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,l(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},8458:function(e,t,l){l.d(t,{e:function(){return a}});var s=l(6070);function a(){return(0,s.createBrowserClient)("https://rzcumzfzurthasgptggd.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6Y3VtemZ6dXJ0aGFzZ3B0Z2dkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYxNDA5MzYsImV4cCI6MjA4MTcxNjkzNn0.NlyDKeMj-4xa7ZSt5wsyRdCOay8w2SAIA-ZTjIRkyHw")}}}]);